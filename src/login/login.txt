登录模块逻辑说明

1 进入注册界面需要获取 图片验证码
    1.1 获取图片验证码需要带一个uuid参数,uuid可以作为redis key 保存图片验证码的内容,需要设置redis过期时间,当获取短信验证码的时候以此来检验验证码是否正确.
    1.2 刷新图片验证码需要之前那个uuid参数,刷新后服务端根据uuid更新图片验证码内容,需要设置过期时间
    1.3 图片验证码超时需要再redis中清除.图片验证码的过期时间要比短信验证码的过期时间长
2 请求手机验证码时候,需要提交手机号,图片验证码
    2.1 根据uuid 获取redis中的uuid 与 提交的图片验证码确认是否一样,不合法 提示 图片验证码已超时,或者不存在
    2.2 校验该手机号是否合法,调用第三方短信服务, redis中手机号作为key,短信验证码作为value,需要设置过期时间
    2.3 短信验证码过期后,清除redis中的短信验证码,提示 获取短信验证码超时,重新获取
3 注册时候 填写手机号,密码sha256,短信验证码,
    3.1 校验 短信验证码是否合法,移除redis中的key,移除图片验证码内容
    3.2 校验该手机号是否已经注册过.
    3.3 返回登录成功后的ssionID;


问题:
    图片验证码是否及时移除.
   




